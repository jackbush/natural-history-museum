function setNewCoords(o){newcoords={x:o.coords.latitude,y:o.coords.longitude},console.log("setNewCoords",newcoords),null===start&&(start=newcoords),newcoords.x-=start.x,newcoords.y-=start.y,tweenPosition()}function smooth(o,t,n){return o*n+t*(1-n)}function tweenPosition(){current.x=smooth(current.x,newcoords.x,.99),current.y=smooth(current.y,newcoords.y,.99);var o=current.x+" -1 "+current.y;dot.setAttribute("position",o),window.requestAnimationFrame(tweenPosition)}function setupAframe(){dot=document.querySelector("a-sphere")}var start=null,current={x:0,y:0},smoothing=.9,newcoords=null,canvas,ctx,dot;window.onload=function(){navigator.geolocation.watchPosition(setNewCoords),setupAframe()};